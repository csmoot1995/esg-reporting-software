/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t={208(t,e,n){n.d(e,{A:()=>c});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([t.id,"/* Basic styles for the ESG Platform */\n\nbody {\n  margin: 0;\n  padding: 0;\n  font-family: Arial, sans-serif;\n  background-color: #f4f4f4;\n}\n\n#app {\n  margin: 20px;\n}\n\nnav a:hover {\n  text-decoration: underline;\n}\n\n.backend-status {\n  margin: 8px 0;\n}\n\n.form-inline label,\n.form-block label {\n  display: inline-block;\n  margin-right: 12px;\n  margin-bottom: 8px;\n}\n\n.form-inline input,\n.form-block input {\n  margin-left: 4px;\n  padding: 4px 8px;\n}\n\n.form-block form {\n  margin-bottom: 12px;\n}\n\n.result {\n  margin-top: 12px;\n  padding: 10px;\n  border-radius: 4px;\n  white-space: pre-wrap;\n  max-width: 600px;\n}\n\n.result-success {\n  background-color: #e6f4ea;\n  border: 1px solid #34a853;\n  color: #137333;\n}\n\n.result-error {\n  background-color: #fce8e6;\n  border: 1px solid #ea4335;\n  color: #c5221f;\n}\n",""]);const c=i},314(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,r,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var u=this[c][0];null!=u&&(i[u]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},601(t){t.exports=function(t){return t[1]}},72(t){var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},i=[],c=0;c<t.length;c++){var u=t[c],s=r.base?u[0]+r.base:u[0],l=a[s]||0,f="".concat(s," ").concat(l);a[s]=l+1;var p=n(f),m={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)e[p].references++,e[p].updater(m);else{var d=o(m,r);r.byIndex=c,e.splice(c,0,{identifier:f,updater:d,references:1})}i.push(f)}return i}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var a=r(t=t||[],o=o||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var c=n(a[i]);e[c].references--}for(var u=r(t,o),s=0;s<a.length;s++){var l=n(a[s]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=u}}},659(t){var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56(t,e,n){t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var r=n(72),o=n.n(r),a=n(825),i=n.n(a),c=n(659),u=n.n(c),s=n(56),l=n.n(s),f=n(540),p=n.n(f),m=n(113),d=n.n(m),y=n(208),v={};v.styleTagTransform=d(),v.setAttributes=l(),v.insert=u().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=p(),o()(y.A,v),y.A&&y.A.locals&&y.A.locals;function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(e){x(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function x(t,e,n){return(e=function(t){var e=function(t){if("object"!=b(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return w(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function m(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],m=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=m&&((o=n<2&&m<a[1])?(c=0,p.v=r,p.n=a[1]):m<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),m(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(w(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,w(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,w(f,"constructor",s),w(s,"constructor",u),u.displayName="GeneratorFunction",w(s,o,"GeneratorFunction"),w(f),w(f,o,"Generator"),w(f,r,function(){return this}),w(f,"toString",function(){return"[object Generator]"}),(O=function(){return{w:a,m:p}})()}function w(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}w=function(t,e,n,r){function a(e,n){w(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},w(t,e,n,r)}function E(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function T(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){E(a,r,o,i,c,"next",t)}function c(t){E(a,r,o,i,c,"throw",t)}i(void 0)})}}function _(t){return j.apply(this,arguments)}function j(){return j=T(O().m(function t(e){var n,r,o,a,i,c,u,s,l=arguments;return O().w(function(t){for(;;)switch(t.n){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},r="".concat("").concat(e),t.n=1,fetch(r,g({headers:g({"Content-Type":"application/json"},n.headers)},n));case 1:return o=t.v,t.n=2,o.text();case 2:a=t.v;try{i=a?JSON.parse(a):null}catch(t){i=a}if(o.ok){t.n=3;break}throw(s=new Error((null===(c=i)||void 0===c?void 0:c.error)||(null===(u=i)||void 0===u?void 0:u.message)||o.statusText||"HTTP ".concat(o.status))).status=o.status,s.data=i,s;case 3:return t.a(2,i)}},t)})),j.apply(this,arguments)}var S=function(t){return T(O().m(function e(){return O().w(function(e){for(;;)if(0===e.n)return e.a(2,_("/api/alerts/process-telemetry",{method:"POST",body:JSON.stringify(t)}))},e)}))()},C=function(t){return T(O().m(function e(){return O().w(function(e){for(;;)if(0===e.n)return e.a(2,_("/api/compliance/validate",{method:"POST",headers:{"X-API-KEY":t},body:JSON.stringify({})}))},e)}))()},P=function(t){return T(O().m(function e(){return O().w(function(e){for(;;)if(0===e.n)return e.a(2,_("/api/simulator/simulate",{method:"POST",body:JSON.stringify({current_footprint:Number(t.current_footprint),energy_mix_shift:Number(t.energy_mix_shift),efficiency_gain:Number(t.efficiency_gain)})}))},e)}))()};function k(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return A(s,"_invoke",function(n,r,o){var a,c,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return a=e,c=0,u=t,p.n=n,i}};function m(n,r){for(c=n,u=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,a=l[e],m=p.p,d=a[2];n>3?(o=d===r)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=m&&((o=n<2&&m<a[1])?(c=0,p.v=r,p.n=a[1]):m<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,c=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,d),c=l,u=d;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(p.n=-1),m(c,u)):p.n=u:p.v=u);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:f}}}(n,o,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(A(e={},r,function(){return this}),e),f=s.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,A(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=s,A(f,"constructor",s),A(s,"constructor",u),u.displayName="GeneratorFunction",A(s,o,"GeneratorFunction"),A(f),A(f,o,"Generator"),A(f,r,function(){return this}),A(f,"toString",function(){return"[object Generator]"}),(k=function(){return{w:a,m:p}})()}function A(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}A=function(t,e,n,r){function a(e,n){A(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},A(t,e,n,r)}function N(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function I(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){N(a,r,o,i,c,"next",t)}function c(t){N(a,r,o,i,c,"throw",t)}i(void 0)})}}console.log("Hello, ESG Platform!");var G=document.createElement("div");G.id="app",G.style.fontFamily="Arial, sans-serif",G.style.margin="20px",document.body.appendChild(G);var D=document.createElement("nav");function L(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.textContent=e,t.className=n?"result result-error":"result result-success",t.style.display="block"}D.style.display="flex",D.style.justifyContent="space-around",D.style.backgroundColor="#333",D.style.color="#fff",D.style.padding="10px",["Dashboard","Compliance","Simulator"].forEach(function(t){var e=document.createElement("a");e.textContent=t,e.href="#".concat(t.toLowerCase()),e.style.color="#fff",e.style.textDecoration="none",e.style.margin="0 10px",D.appendChild(e)}),G.appendChild(D);var M=document.createElement("section");M.id="dashboard",M.style.marginTop="20px";var B=document.createElement("h2");B.textContent="Dashboard",M.appendChild(B);var F=document.createElement("p");F.textContent="This is the dashboard for monitoring environmental alerts.",M.appendChild(F);var H=document.createElement("div");H.className="backend-status",H.innerHTML='<strong>Backend status:</strong> <span id="status-text">Checking…</span>',M.appendChild(H);var R=document.createElement("div");function J(){return(J=I(k().m(function t(){var e,n,r,o,a;return k().w(function(t){for(;;)switch(t.n){case 0:return e=document.getElementById("status-text"),n=[{name:"Alerts",path:"alerts"},{name:"Compliance",path:"compliance"},{name:"Simulator",path:"simulator"}],t.n=1,Promise.allSettled(n.map(function(t){return(e=t.path,T(O().m(function t(){return O().w(function(t){for(;;)if(0===t.n)return t.a(2,_("/api/".concat(e,"/health"),{method:"GET"}))},t)}))()).then(function(){return t.name});var e}));case 1:r=t.v,o=r.filter(function(t){return"fulfilled"===t.status}).map(function(t){return t.value}),0===(a=r.filter(function(t){return"rejected"===t.status}).length)?(e.textContent="All services up (".concat(o.join(", "),")."),e.style.color="green"):(e.textContent="".concat(o.length," up (").concat(o.join(", ")||"none","), ").concat(a," unreachable. Run backends or use Docker."),e.style.color="orange");case 2:return t.a(2)}},t)}))).apply(this,arguments)}R.className="dashboard-form",R.style.marginTop="16px",R.innerHTML='\n  <strong>Test alerts (telemetry):</strong>\n  <form id="telemetry-form" class="form-inline">\n    <label>CO₂ ppm <input type="number" name="CO2_ppm" value="400" step="1" /></label>\n    <label>Temperature °C <input type="number" name="Temperature_C" value="30" step="0.1" /></label>\n    <button type="submit">Submit telemetry</button>\n  </form>\n  <div id="telemetry-result" class="result" style="display:none;"></div>\n',M.appendChild(R),G.appendChild(M),function(){J.apply(this,arguments)}(),document.getElementById("telemetry-form").addEventListener("submit",function(){var t=I(k().m(function t(e){var n,r,o,a,i;return k().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.preventDefault(),n=document.getElementById("telemetry-result"),r=e.target,o={CO2_ppm:Number(r.CO2_ppm.value),Temperature_C:Number(r.Temperature_C.value)},t.p=1,t.n=2,S(o);case 2:"ALERT_TRIGGERED"===(a=t.v).status?L(n,"Alerts: ".concat(JSON.stringify(a.details,null,2)),!1):L(n,"Status: NORMAL – no alerts triggered.",!1),t.n=4;break;case 3:t.p=3,i=t.v,L(n,"Error: ".concat(i.message),!0);case 4:return t.a(2)}},t,null,[[1,3]])}));return function(e){return t.apply(this,arguments)}}());var q=document.createElement("section");q.id="compliance",q.style.marginTop="20px",q.innerHTML="\n  <h2>Compliance</h2>\n  <p>".concat("This is the compliance report submission form.",'</p>\n  <div class="form-block">\n    <form id="compliance-form">\n      <label>API Key (admin or auditor) <input type="password" name="api_key" placeholder="X-API-KEY" required /></label>\n      <button type="submit">Validate report</button>\n    </form>\n    <div id="compliance-result" class="result" style="display:none;"></div>\n  </div>\n'),G.appendChild(q),document.getElementById("compliance-form").addEventListener("submit",function(){var t=I(k().m(function t(e){var n,r,o,a;return k().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e.preventDefault(),n=document.getElementById("compliance-result"),r=e.target.api_key.value.trim()){t.n=1;break}return t.a(2);case 1:return t.p=1,t.n=2,C(r);case 2:o=t.v,L(n,"Status: ".concat(o.status,", validated by: ").concat(o.validated_by),!1),t.n=4;break;case 3:t.p=3,a=t.v,L(n,403===a.status?"Unauthorized (invalid API key)":a.message,!0);case 4:return t.a(2)}},t,null,[[1,3]])}));return function(e){return t.apply(this,arguments)}}());var K=document.createElement("section");K.id="simulator",K.style.marginTop="20px",K.innerHTML="\n  <h2>Simulator</h2>\n  <p>".concat('This is the visualization tool for "What-If" simulation results.','</p>\n  <div class="form-block">\n    <form id="simulator-form">\n      <label>Current footprint (metric tons CO₂e) <input type="number" name="current_footprint" value="1000" step="0.01" required /></label>\n      <label>Energy mix shift (% renewables) <input type="number" name="energy_mix_shift" value="20" min="0" max="100" step="0.1" /></label>\n      <label>Efficiency gain (%) <input type="number" name="efficiency_gain" value="10" min="0" max="100" step="0.1" /></label>\n      <button type="submit">Run simulation</button>\n    </form>\n    <div id="simulator-result" class="result" style="display:none;"></div>\n  </div>\n'),G.appendChild(K),document.getElementById("simulator-form").addEventListener("submit",function(){var t=I(k().m(function t(e){var n,r,o,a;return k().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.preventDefault(),n=document.getElementById("simulator-result"),r=e.target,t.p=1,t.n=2,P({current_footprint:r.current_footprint.value,energy_mix_shift:r.energy_mix_shift.value,efficiency_gain:r.efficiency_gain.value});case 2:o=t.v,L(n,"Projected footprint: ".concat(o.projected_footprint," ").concat(o.unit),!1),t.n=4;break;case 3:t.p=3,a=t.v,L(n,"Error: ".concat(a.message),!0);case 4:return t.a(2)}},t,null,[[1,3]])}));return function(e){return t.apply(this,arguments)}}())})();